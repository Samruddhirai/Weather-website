<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Weather App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght%40300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .weather-container {
            background: linear-gradient(135deg, #a7bfe8, #619af3); 
            transition: background 0.8s ease-in-out;
        }
        .weather-clear { background: linear-gradient(135deg, #ffe082, #ffb300); } 
        .weather-clouds { background: linear-gradient(135deg, #b0bec5, #78909c); }
        .weather-rain { background: linear-gradient(135deg, #90a4ae, #546e7a); } 
        .weather-drizzle { background: linear-gradient(135deg, #a7d9b9, #66bb6a); } 
        .weather-thunderstorm { background: linear-gradient(135deg, #5c6bc0, #3f51b5); } 
        .weather-snow { background: linear-gradient(135deg, #e0f2f7, #bbdefb); }
        .weather-mist { background: linear-gradient(135deg, #cfd8dc, #90a4ae); } 
        .weather-other { background: linear-gradient(135deg, #9fa8da, #7986cb); } 
        @keyframes sunPulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }
        @keyframes cloudFloat {
            0% { transform: translateX(0); }
            50% { transform: translateX(10px); }
            100% { transform: translateX(0); }
        }
        .animate-sun { animation: sunPulse 3s infinite ease-in-out; }
        .animate-cloud { animation: cloudFloat 4s infinite ease-in-out; }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4 sm:p-6 lg:p-8">

    <div class="weather-container w-full max-w-lg mx-auto bg-white rounded-xl shadow-2xl p-6 sm:p-8 text-white flex flex-col items-center">
        <h1 class="text-3xl sm:text-4xl font-bold mb-6 text-center drop-shadow-md"> Weather App</h1>
        <div class="flex flex-col sm:flex-row w-full mb-6 gap-3">
            <input
                type="text"
                id="cityInput"
                placeholder="Enter city name..."
                class="flex-grow p-3 rounded-lg border-2 border-white bg-white bg-opacity-20 text-white placeholder-white focus:outline-none focus:ring-2 focus:ring-white transition duration-300 shadow-md"
            />
            <button
                id="searchButton"
                class="bg-white text-indigo-700 font-semibold py-3 px-6 rounded-lg shadow-lg hover:bg-indigo-100 transform hover:scale-105 transition duration-300 ease-in-out"
            >
                Get Weather
            </button>
        </div>
        <div id="message" class="text-white text-lg font-medium mb-4 transition-opacity duration-300 opacity-0"></div>
        <div id="weatherDisplay" class="flex flex-col items-center text-center w-full transition-all duration-500 ease-in-out transform scale-0 opacity-0">
            <div id="weatherIcon" class="text-6xl sm:text-8xl mb-4 drop-shadow-lg"></div>

            <h2 id="cityName" class="text-4xl sm:text-5xl font-extrabold mb-2 drop-shadow-lg"></h2>
            <p id="temperature" class="text-5xl sm:text-7xl font-bold mb-2 drop-shadow-lg"></p>
            <p id="description" class="text-2xl sm:text-3xl font-medium mb-4 capitalize drop-shadow-md"></p>

            <div class="grid grid-cols-2 gap-4 w-full max-w-sm sm:max-w-md bg-white bg-opacity-20 backdrop-filter backdrop-blur-sm rounded-lg p-4 shadow-xl">
                <div class="flex flex-col items-center">
                    <span class="text-xl sm:text-2xl mb-1">&#x1F4A7;</span> 
                    <p class="text-md sm:text-lg font-semibold">Humidity</p>
                    <p id="humidity" class="text-xl sm:text-2xl"></p>
                </div>
                <div class="flex flex-col items-center">
                    <span class="text-xl sm:text-2xl mb-1">&#x1F4A8;</span> 
                    <p class="text-md sm:text-lg font-semibold">Wind Speed</p>
                    <p id="windSpeed" class="text-xl sm:text-2xl"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const cityInput = document.getElementById('cityInput');
        const searchButton = document.getElementById('searchButton');
        const messageDiv = document.getElementById('message');
        const weatherDisplay = document.getElementById('weatherDisplay');
        const cityNameElem = document.getElementById('cityName');
        const temperatureElem = document.getElementById('temperature');
        const descriptionElem = document.getElementById('description');
        const humidityElem = document.getElementById('humidity');
        const windSpeedElem = document.getElementById('windSpeed');
        const weatherIconElem = document.getElementById('weatherIcon');
        const weatherContainer = document.querySelector('.weather-container');
        const API_KEY = '5e6d11f49c4ae32dfbcba957566940e4'; // <--- Replace this with your actual API key!
        const BASE_URL = 'https://api.openweathermap.org/data/2.5/weather';

        
        function showMessage(text, isError = false) {
            messageDiv.textContent = text;
            messageDiv.className = `text-white text-lg font-medium mb-4 transition-opacity duration-300 opacity-100 ${isError ? 'text-red-300' : 'text-white'}`;
            weatherDisplay.classList.remove('scale-100', 'opacity-100');
            weatherDisplay.classList.add('scale-0', 'opacity-0'); // Hide weather display when message is shown

            setTimeout(() => {
                messageDiv.classList.remove('opacity-100');
                messageDiv.classList.add('opacity-0');
            }, 3000);
        }

    
        function setWeatherVisuals(mainCondition) {
            weatherContainer.classList.remove('weather-clear', 'weather-clouds', 'weather-rain', 'weather-drizzle', 'weather-thunderstorm', 'weather-snow', 'weather-mist', 'weather-other');
            weatherIconElem.classList.remove('animate-sun', 'animate-cloud'); // Remove previous animations

            let icon = '';
            let bgClass = 'weather-other'; 

            switch (mainCondition) {
                case 'Clear':
                    icon = 'â˜€ï¸'; 
                    bgClass = 'weather-clear';
                    weatherIconElem.classList.add('animate-sun');
                    break;
                case 'Clouds':
                    icon = 'â˜ï¸'; 
                    bgClass = 'weather-clouds';
                    weatherIconElem.classList.add('animate-cloud');
                    break;
                case 'Rain':
                    icon = 'ðŸŒ§ï¸'; 
                    bgClass = 'weather-rain';
                    break;
                case 'Drizzle':
                    icon = 'ðŸŒ¦ï¸'; 
                    bgClass = 'weather-drizzle';
                    break;
                case 'Thunderstorm':
                    icon = 'â›ˆï¸';
                    bgClass = 'weather-thunderstorm';
                    break;
                case 'Snow':
                    icon = 'â„ï¸';
                    bgClass = 'weather-snow';
                    break;
                case 'Mist':
                case 'Smoke':
                case 'Haze':
                case 'Dust':
                case 'Fog':
                case 'Sand':
                case 'Ash':
                case 'Squall':
                case 'Tornado':
                    icon = 'ðŸŒ«ï¸'; 
                    bgClass = 'weather-mist';
                    break;
                default:
                    icon = 'ðŸŒ¡ï¸'; 
                    bgClass = 'weather-other';
                    break;
            }

            weatherIconElem.textContent = icon;
            weatherContainer.classList.add(bgClass);
        }

        async function getWeatherData(city) {
            if (!city) {
                showMessage("Please enter a city name.", true);
                return;
            }
            if (API_KEY === 'YOUR_API_KEY' || API_KEY === '') {
                 showMessage("Error: Please obtain a free API key from openweathermap.org and replace 'YOUR_API_KEY' in the code.", true);
                 return;
            }

            showMessage("Fetching weather data...", false);

            try {
                const response = await fetch(`${BASE_URL}?q=${city}&appid=${API_KEY}&units=metric`);
                const data = await response.json();

                if (data.cod === '404') {
                    showMessage("City not found. Please try again.", true);
                    return;
                } else if (data.cod !== 200) {
                    showMessage(`Error: ${data.message || 'Something went wrong.'}`, true);
                    return;
                }

                cityNameElem.textContent = data.name;
                temperatureElem.textContent = `${Math.round(data.main.temp)}Â°C`;
                descriptionElem.textContent = data.weather[0].description;
                humidityElem.textContent = `${data.main.humidity}%`;
                windSpeedElem.textContent = `${data.wind.speed.toFixed(1)} m/s`;
                setWeatherVisuals(data.weather[0].main);
                weatherDisplay.classList.remove('scale-0', 'opacity-0');
                weatherDisplay.classList.add('scale-100', 'opacity-100');
                messageDiv.classList.remove('opacity-100'); 
                messageDiv.classList.add('opacity-0');

            } catch (error) {
                console.error('Error fetching weather data:', error);
                showMessage("Could not retrieve weather data. Please check your internet connection.", true);
            }
        }
        searchButton.addEventListener('click', () => {
            getWeatherData(cityInput.value.trim());
        });
        cityInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                getWeatherData(cityInput.value.trim());
            }
        });
        window.onload = () => {
             weatherDisplay.classList.remove('scale-100', 'opacity-100');
             weatherDisplay.classList.add('scale-0', 'opacity-0');
        };

    </script>
</body>
</html>